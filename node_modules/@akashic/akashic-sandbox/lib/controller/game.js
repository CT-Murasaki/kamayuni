"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var utils_1 = require("../utils");
var controller = function (req, res, _next) {
    var devMode = req.query.devmode !== "disable";
    var environment = res.locals.environment;
    var version = environment && environment["sandbox-runtime"] ? environment["sandbox-runtime"] : "1";
    // json の読み込みのため require の lint エラーを抑止
    /* eslint-disable @typescript-eslint/no-var-requires */
    var pkgJson = require("../../package.json");
    /* eslint-enable */
    var engineFilesVariable = (0, utils_1.resolveEngineFilesVariable)(version);
    res.render("game", {
        title: "akashic-sandbox v".concat(pkgJson.version),
        version: version,
        devMode: devMode,
        engineFilesVariable: engineFilesVariable,
        engineFilesPath: "js/v".concat(version, "/").concat(engineFilesVariable, ".js")
    });
};
module.exports = controller;
